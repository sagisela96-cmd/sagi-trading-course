<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAGI TRADING - ×§×•×¨×¡ ×”××¡×—×¨ ×”××§×™×£</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #e0e0e0;
            line-height: 1.6;
        }
        .navbar {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 20px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .navbar-brand { font-size: 1.8em; font-weight: bold; color: #fff; }
        .navbar-links { display: flex; gap: 25px; }
        .navbar-links a {
            color: #a8d5ff;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .navbar-links a:hover { background: rgba(255,255,255,0.1); color: #fff; }
        .hero {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            padding: 80px 30px;
            text-align: center;
            margin: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }
        .hero h1 { font-size: 3.5em; color: #fff; margin-bottom: 20px; }
        .hero p { font-size: 1.4em; color: #a8d5ff; margin-bottom: 40px; }
        .youtube-embed {
            max-width: 900px;
            margin: 40px auto;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
        .youtube-embed iframe { width: 100%; height: 500px; border: none; }
        .btn {
            display: inline-block;
            padding: 18px 40px;
            margin: 10px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 1.2em;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: #000;
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(74,222,128,0.4); }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #fff;
            border: 2px solid #4ade80;
        }
        .btn-secondary:hover { background: rgba(74,222,128,0.2); }
        .container { max-width: 1400px; margin: 0 auto; padding: 40px 20px; }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 25px;
            margin: 50px 0;
        }
        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s;
        }
        .stat-card:hover { transform: translateY(-5px); background: rgba(74,222,128,0.1); }
        .stat-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .stat-label { color: #a0a0a0; margin-top: 10px; font-size: 1.1em; }
        .section-title {
            font-size: 2.5em;
            text-align: center;
            margin: 60px 0 40px;
            color: #fff;
        }
        .modules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        .module-card {
            background: linear-gradient(135deg, #1a1f3a 0%, #252b47 100%);
            border-radius: 18px;
            padding: 35px;
            cursor: pointer;
            transition: all 0.4s;
            border: 2px solid transparent;
        }
        .module-card:hover {
            transform: translateY(-10px);
            border-color: #4ade80;
            box-shadow: 0 25px 60px rgba(74,222,128,0.3);
        }
        .module-card.completed { border-color: #4ade80; }
        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        .module-number {
            font-size: 3.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .module-status { font-size: 3em; }
        .module-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #fff;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        .module-description { color: #b0b0b0; margin-bottom: 25px; font-size: 1.05em; }
        .lessons-preview {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }
        .lesson-item {
            padding: 12px 0;
            color: #b0b0b0;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .lesson-item:last-child { border-bottom: none; }
        .lesson-item::before { content: "â–¸"; color: #4ade80; font-size: 1.3em; }
        .lesson-item.completed { color: #4ade80; }
        .lesson-item.completed::before { content: "âœ“"; }
        .module-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 25px;
            border-top: 2px solid rgba(255,255,255,0.1);
        }
        .progress-text { color: #a0a0a0; font-size: 1em; }
        .start-btn {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: #000;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.05em;
            cursor: pointer;
            transition: all 0.3s;
        }
        .start-btn:hover { transform: scale(1.08); box-shadow: 0 8px 25px rgba(74,222,128,0.5); }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.96);
            z-index: 200;
            overflow-y: auto;
        }
        .modal-content {
            background: linear-gradient(135deg, #1a1f3a 0%, #252b47 100%);
            margin: 40px auto;
            padding: 50px;
            max-width: 1100px;
            border-radius: 25px;
            position: relative;
            box-shadow: 0 30px 80px rgba(0,0,0,0.6);
        }
        .close-modal {
            position: absolute;
            top: 25px;
            left: 25px;
            font-size: 3em;
            cursor: pointer;
            color: #a0a0a0;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255,255,255,0.05);
            transition: all 0.3s;
        }
        .close-modal:hover {
            color: #fff;
            background: rgba(255,255,255,0.15);
            transform: rotate(90deg);
        }
        .lesson-header {
            margin: 40px 0;
            padding-bottom: 25px;
            border-bottom: 3px solid rgba(74,222,128,0.3);
        }
        .lesson-breadcrumb { color: #4ade80; font-size: 1.1em; margin-bottom: 20px; }
        .lesson-title { font-size: 2.8em; color: #fff; margin-bottom: 15px; }
        .lesson-content {
            color: #d0d0d0;
            line-height: 2;
            font-size: 1.15em;
        }
        .lesson-content h3 {
            color: #4ade80;
            margin: 40px 0 20px;
            font-size: 1.8em;
        }
        .lesson-content h4 {
            color: #6ee7b7;
            margin: 30px 0 15px;
            font-size: 1.5em;
        }
        .lesson-content ul, .lesson-content ol { margin: 20px 0 20px 35px; }
        .lesson-content li { margin: 12px 0; line-height: 1.8; }
        .lesson-content strong { color: #4ade80; }
        .lesson-content p { margin: 18px 0; }
        .lesson-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
            padding-top: 35px;
            border-top: 3px solid rgba(255,255,255,0.1);
            gap: 20px;
        }
        .nav-btn {
            background: linear-gradient(135deg, #2a5298 0%, #1e3c72 100%);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s;
            flex: 1;
        }
        .nav-btn:hover:not(:disabled) {
            transform: scale(1.03);
            box-shadow: 0 10px 25px rgba(42,82,152,0.4);
        }
        .nav-btn:disabled { opacity: 0.3; cursor: not-allowed; }
        .complete-btn {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            color: #000;
            flex: 2;
        }
        .resources-section {
            background: linear-gradient(135deg, #1a1f3a 0%, #252b47 100%);
            border-radius: 25px;
            padding: 50px;
            margin: 60px 0;
        }
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        .resource-card {
            background: rgba(255,255,255,0.05);
            padding: 35px;
            border-radius: 18px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .resource-card:hover {
            border-color: #4ade80;
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(74,222,128,0.25);
        }
        .resource-icon { font-size: 4em; margin-bottom: 20px; }
        .resource-title { font-weight: bold; margin-bottom: 10px; font-size: 1.2em; }
        .resource-link { color: #4ade80; font-size: 1.05em; }
        footer {
            text-align: center;
            padding: 50px 20px;
            color: #a0a0a0;
            border-top: 2px solid rgba(255,255,255,0.1);
            margin-top: 80px;
        }
        footer p { margin: 8px 0; }
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.2em; }
            .hero p { font-size: 1.1em; }
            .modules-grid { grid-template-columns: 1fr; }
            .modal-content { margin: 20px; padding: 30px; }
            .navbar { flex-direction: column; gap: 15px; }
            .youtube-embed iframe { height: 280px; }
            .lesson-title { font-size: 2em; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-brand">ğŸ“ˆ SAGI TRADING</div>
        <div class="navbar-links">
            <a href="#modules">××•×“×•×œ×™×</a>
            <a href="#resources">×§×”×™×œ×”</a>
            <a href="https://youtube.com/@sagi-trading?si=ivnq0_NnWC4vef_0" target="_blank">YouTube</a>
        </div>
    </nav>

    <div class="hero">
        <h1>ğŸ“ ×§×•×¨×¡ ×”××¡×—×¨ ×”××§×¦×•×¢×™</h1>
        <p>×”× ×ª×™×‘ ×”××”×™×¨ ×œ××¡×—×¨ ×‘×©×•×§ ×”×”×•×Ÿ ×•×§×¨×™×¤×˜×• - 10 ××•×“×•×œ×™× ××§×™×¤×™×</p>
        
        <div class="youtube-embed">
            <iframe src="https://www.youtube.com/embed?listType=user_uploads&list=@sagi-trading" 
                    allowfullscreen></iframe>
        </div>
        
        <div>
            <a href="#modules" class="btn btn-primary">ğŸš€ ×”×ª×—×œ ×œ×œ××•×“ ×¢×›×©×™×•</a>
            <a href="https://youtube.com/@sagi-trading?si=ivnq0_NnWC4vef_0" target="_blank" class="btn btn-secondary">
                ğŸ¥ ×¦×¤×” ×‘×¡×¨×˜×•× ×™×
            </a>
        </div>
    </div>

    <div class="container">
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="completedModules">0</div>
                <div class="stat-label">××•×“×•×œ×™× ×©×”×•×©×œ××•</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completedLessons">0</div>
                <div class="stat-label">×©×™×¢×•×¨×™× ×©×”×•×©×œ××•</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">10</div>
                <div class="stat-label">××•×“×•×œ×™× ×›×•×œ×œ×™×</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">30+</div>
                <div class="stat-label">×©×™×¢×•×¨×™× ××§×¦×•×¢×™×™×</div>
            </div>
        </div>

        <h2 class="section-title" id="modules">ğŸ“š ×ª×•×›× ×™×ª ×”×œ×™××•×“×™× ×”××œ××”</h2>
        <div class="modules-grid" id="modulesGrid"></div>

        <div class="resources-section" id="resources">
            <h2 class="section-title">ğŸ”— ×”×¦×˜×¨×£ ×œ×§×”×™×œ×” ×•×¤×ª×— ×—×©×‘×•×Ÿ ××¡×—×¨</h2>
            <div class="resources-grid">
                <div class="resource-card" onclick="window.open('https://t.me/+pFfWwRGAUlFjZjJk', '_blank')">
                    <div class="resource-icon">ğŸ“±</div>
                    <div class="resource-title">×§×‘×•×¦×ª ×˜×œ×’×¨×</div>
                    <div class="resource-link">×¢×“×›×•× ×™× ×™×•××™×™× ×•××•×ª×•×ª</div>
                </div>
                <div class="resource-card" onclick="window.open('https://chat.whatsapp.com/Iej39KWKKIK', '_blank')">
                    <div class="resource-icon">ğŸ’¬</div>
                    <div class="resource-title">×§×‘×•×¦×ª ×•×•××˜×¡××¤</div>
                    <div class="resource-link">×§×”×™×œ×ª ×”×ª×œ××™×“×™×</div>
                </div>
                <div class="resource-card" onclick="window.open('https://sagiinvest.carrd.co/', '_blank')">
                    <div class="resource-icon">ğŸŒ</div>
                    <div class="resource-title">×“×£ × ×—×™×ª×”</div>
                    <div class="resource-link">××“×¨×™×›×™× ×•×”×˜×‘×•×ª ×‘×œ×¢×“×™×•×ª</div>
                </div>
                <div class="resource-card" onclick="window.open('https://youtube.com/@sagi-trading?si=ivnq0_NnWC4vef_0', '_blank')">
                    <div class="resource-icon">ğŸ¥</div>
                    <div class="resource-title">×¢×¨×•×¥ YouTube</div>
                    <div class="resource-link">×¡×¨×˜×•× ×™ ×”×“×¨×›×”</div>
                </div>
                <div class="resource-card" onclick="window.open('https://open.spotify.com/show/2uyrQFh2OrVR9P0uOxeKxF', '_blank')">
                    <div class="resource-icon">ğŸ§</div>
                    <div class="resource-title">×¤×•×“×§××¡×˜ Spotify</div>
                    <div class="resource-link">×¤×¨×§×™× ×¢×œ ××¡×—×¨</div>
                </div>
                <div class="resource-card" onclick="window.open('https://bit.ly/SagiSelaPRO', '_blank')">
                    <div class="resource-icon">ğŸ’¼</div>
                    <div class="resource-title">×§×•×œ××§×¡ ×¤×¨×•</div>
                    <div class="resource-link">×¤×ª×— ×—×©×‘×•×Ÿ + ×”×˜×‘×•×ª</div>
                </div>
                <div class="resource-card" onclick="window.open('https://lp3.inter-il.com/ab/673', '_blank')">
                    <div class="resource-icon">ğŸ¦</div>
                    <div class="resource-title">××™× ×˜×¨××§×˜×™×‘ ×‘×¨×•×§×¨×¡</div>
                    <div class="resource-link">×¤×ª×— ×—×©×‘×•×Ÿ + ×”×˜×‘×•×ª</div>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Â© 2025 SAGI TRADING</strong> - ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª</p>
            <p style="margin-top: 15px;">×§×•×¨×¡ ××¡×—×¨ ××§×¦×•×¢×™ ×‘×©×•×§ ×”×”×•×Ÿ ×•×§×¨×™×¤×˜×• | 10 ××•×“×•×œ×™× | 30+ ×©×™×¢×•×¨×™×</p>
        </footer>
    </div>

    <div class="modal" id="lessonModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeLesson()">âœ•</span>
            <div id="lessonContent"></div>
            <div class="lesson-nav">
                <button class="nav-btn" id="prevLesson" onclick="navigateLesson(-1)">â† ×©×™×¢×•×¨ ×§×•×“×</button>
                <button class="nav-btn complete-btn" id="completeLesson" onclick="toggleComplete()">
                    ×¡××Ÿ ×›×”×•×©×œ× âœ“
                </button>
                <button class="nav-btn" id="nextLesson" onclick="navigateLesson(1)">×©×™×¢×•×¨ ×”×‘× â†’</button>
            </div>
        </div>
    </div>

    <script>
        const modules = [
            {id:1,title:"××‘×•× ×•××™×™× ×“×¡×˜ â€“ ×”×¤×™×›×ª ×”××•×— ×œ×¡×•×—×¨",desc:"×”×¦×‘×ª ××˜×¨×•×ª, ×”×‘× ×ª ×”×‘×¡×™×¡ ×•×‘× ×™×™×ª ×ª×•×›× ×™×ª ×¢×‘×•×“×”",lessons:["×‘×¨×•×›×™× ×”×‘××™× ×œ××©×¤×—×”","×œ××” 90% ××”×¡×•×—×¨×™× × ×›×©×œ×™×?","×”×¦×‘×ª ××˜×¨×•×ª ×•×‘× ×™×™×ª ×ª×•×›× ×™×ª"]},
            {id:2,title:"×ª×©×ª×™×ª ×˜×›× ×™×ª â€“ ××™×š ×”×‘×•×¨×¡×” ×¢×•×‘×“×ª?",desc:"×× ×™×•×ª, ××“×“×™×, ×¢×•×©×™ ×©×•×§ ×•×¡×¤×¨ ×¤×§×•×“×•×ª",lessons:["×× ×™×•×ª ×•××“×“×™× ×•×ª×¢×•×“×•×ª ×¡×œ","×¢×•×©×™ ×©×•×§ ×œ×¢×•××ª ×¡×•×—×¨×™×","×•×•×œ×™×•× ×•×¡×¤×¨ ×¤×§×•×“×•×ª"]},
            {id:3,title:"×‘×—×™×¨×ª ×‘×¨×•×§×¨ ×•×”×§××ª ×¢××“×ª ×¢×‘×•×“×”",desc:"×”×©×•×•××” ×‘×™×Ÿ ×‘×¨×•×§×¨×™× ×•×¤×ª×™×—×ª ×—×©×‘×•×Ÿ",lessons:["×”×©×•×•××” ×‘×™×Ÿ ×‘×¨×•×§×¨×™×","×¤×ª×™×—×ª ×—×©×‘×•×Ÿ","×”×›×¨×ª ××¢×¨×›×ª ×”××¡×—×¨"]},
            {id:4,title:"× ×™×ª×•×— ×˜×›× ×™ ×' â€“ ×©×¤×ª ×”×’×¨×¤×™×",desc:"× ×¨×•×ª ×™×¤× ×™×™×, ×ª××™×›×•×ª ×•×”×ª× ×’×“×•×™×•×ª",lessons:["× ×¨×•×ª ×™×¤× ×™×™×","×ª××™×›×” ×•×”×ª× ×’×“×•×ª","××¡×˜×¨×˜×’×™×™×ª ×”×¤×¨×™×¦×”"]},
            {id:5,title:"× ×™×ª×•×— ×˜×›× ×™ ×‘' â€“ ×ª×‘× ×™×•×ª ×•××“×“×™×",desc:"×ª×‘× ×™×•×ª ××—×™×¨, RSI ×•×××•×¦×¢×™× × ×¢×™×",lessons:["×ª×‘× ×™×•×ª ×”×™×¤×•×š ×•×”××©×›×™×•×ª","×××•×¦×¢×™× × ×¢×™×","RSI ×•-MACD"]},
            {id:6,title:"××¡×˜×¨×˜×’×™×•×ª ××¡×—×¨ ××¢×©×™×•×ª",desc:"×¤×¨×™×¦×”, × ×¡×™×’×•×ª ×•×¤×¨×”-××¨×§×˜",lessons:["××¡×˜×¨×˜×’×™×™×ª ×”×¤×¨×™×¦×”","××¡×—×¨ ×‘× ×¡×™×’×•×ª","××¡×—×¨ ×‘×¤×¨×”-××¨×§×˜"]},
            {id:7,title:"× ×™×”×•×œ ×¡×™×›×•× ×™× â€“ ×—×‘×œ ×”×”×¦×œ×”",desc:"×—×•×§ ×”-1%, ×™×—×¡ R:R ×•×¡×˜×•×¤-×œ×•×¡",lessons:["×—×•×§ ×”-1%","×™×—×¡ ×¡×™×›×•×Ÿ-×¡×™×›×•×™","×—×™×©×•×‘ ×’×•×“×œ ×¤×•×–×™×¦×™×”"]},
            {id:8,title:"×¤×¡×™×›×•×œ×•×’×™×™×ª ××¡×—×¨ â€“ ×”××•×™×‘ ×©×‘×¤× ×™×",desc:"FOMO, ××©××¢×ª ×•×™×•××Ÿ ××¡×—×¨",lessons:["××—×–×•×¨ ×”×¨×’×©×•×ª","×”×¤×—×“ ×œ×”×—××™×¥ (FOMO)","××©××¢×ª ×•×™×•××Ÿ ××¡×—×¨"]},
            {id:9,title:"×§×¨×™×¤×˜×•, ×‘×œ×•×§×¦'×™×™×Ÿ ×•×”×›× ×¡×” ×¤×¡×™×‘×™×ª",desc:"×‘×™×˜×§×•×™×Ÿ, ××ª'×¨×™×•×, Bybit ×•×¡×˜×™×™×§×™× ×’",lessons:["××‘×•× ×œ× ×›×¡×™× ×“×™×’×™×˜×œ×™×™×","×¢×‘×•×“×” ×¢× Bybit","×¡×˜×™×™×§×™× ×’"]},
            {id:10,title:"×¡×™×›×•×, ××™×¡×•×™ ×•×™×¦×™××” ×œ×“×¨×š",desc:"×™×•××Ÿ ××¡×—×¨, ××™×¡×•×™ ×•×”×¦×¢×“×™× ×”×‘××™×",lessons:["× ×™×”×•×œ ×™×•××Ÿ ××¡×—×¨","××“×¨×™×š ××™×¡×•×™","×”×¦×¢×“×™× ×”×‘××™×"]}
        ];

        let progress = new Set(JSON.parse(localStorage.getItem('sagiProgress')||'[]'));

        function save() {
            localStorage.setItem('sagiProgress', JSON.stringify([...progress]));
            updateStats();
        }

        function updateStats() {
            document.getElementById('completedLessons').textContent = progress.size;
            document.getElementById('completedModules').textContent = modules.filter(m => 
                m.lessons.every((_,i) => progress.has(`${m.id}-${i}`))
            ).length;
        }

        function render() {
            const grid = document.getElementById('modulesGrid');
            grid.innerHTML = modules.map(m => {
                const done = m.lessons.filter((_,i) => progress.has(`${m.id}-${i}`)).length;
                const complete = done === m.lessons.length;
                return `
                    <div class="module-card ${complete?'completed':''}" onclick="openModule(${m.id})">
                        <div class="module-header">
                            <div class="module-number">${m.id}</div>
                            <div class="module-status">${complete?'âœ“':'ğŸ“š'}</div>
                        </div>
                        <div class="module-title">${m.title}</div>
                        <div class="module-description">${m.desc}</div>
                        <div class="lessons-preview">
                            ${m.lessons.map((l,i) => `
                                <div class="lesson-item ${progress.has(`${m.id}-${i}`)?'completed':''}">
                                    ${l}
                                </div>
                            `).join('')}
                        </div>
                        <div class="module-footer">
                            <div class="progress-text">${done}/${m.lessons.length} ×©×™×¢×•×¨×™×</div>
                            <button class="start-btn">${complete?'×¡×§×™×¨×”':done>0?'×”××©×š':'×”×ª×—×œ'}</button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        let currentMod = 1, currentLesson = 0;

        function openModule(id) {
            currentMod = id;
            currentLesson = 0;
            showLesson();
        }

        function showLesson() {
            const m = modules.find(x => x.id === currentMod);
            if (!m) return;
            const key = `${currentMod}-${currentLesson}`;
            const done = progress.has(key);
            
            document.getElementById('lessonContent').innerHTML = `
                <div class="lesson-header">
                    <div class="lesson-breadcrumb">××•×“×•×œ ${currentMod}: ${m.title}</div>
                    <h2 class="lesson-title">${m.lessons[currentLesson]}</h2>
                </div>
                <div class="lesson-content">
                    <p>×–×”×• ×ª×•×›×Ÿ ×”×©×™×¢×•×¨ "${m.lessons[currentLesson]}" ×××•×“×•×œ ${currentMod}.</p>
                    <p>×›××Ÿ ×™×•×¤×™×¢ ×”×ª×•×›×Ÿ ×”××œ× ××”×¡×™×œ×‘×•×¡...</p>
                </div>
            `;
            
            document.getElementById('prevLesson').disabled = currentLesson === 0;
            document.getElementById('nextLesson').disabled = currentLesson === m.lessons.length - 1;
            document.getElementById('completeLesson').textContent = done ? '×”×•×©×œ× âœ“' : '×¡××Ÿ ×›×”×•×©×œ× âœ“';
            document.getElementById('completeLesson').style.opacity = done ? '0.7' : '1';
            
            document.getElementById('lessonModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeLesson() {
            document.getElementById('lessonModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            render();
        }

        function navigateLesson(dir) {
            const m = modules.find(x => x.id === currentMod);
            const newIdx = currentLesson + dir;
            if (newIdx >= 0 && newIdx < m.lessons.length) {
                currentLesson = newIdx;
                showLesson();
            } else if (dir > 0 && currentMod < modules.length) {
                currentMod++;
                currentLesson = 0;
                showLesson();
            } else if (dir < 0 && currentMod > 1) {
                currentMod--;
                currentLesson = modules.find(x => x.id === currentMod).lessons.length - 1;
                showLesson();
            }
        }

        function toggleComplete() {
            const key = `${currentMod}-${currentLesson}`;
            if (progress.has(key)) progress.delete(key);
            else progress.add(key);
            save();
            const done = progress.has(key);
            document.getElementById('completeLesson').textContent = done ? '×”×•×©×œ× âœ“' : '×¡××Ÿ ×›×”×•×©×œ× âœ“';
            document.getElementById('completeLesson').style.opacity = done ? '0.7' : '1';
        }

        window.onclick = e => {
            if (e.target.id === 'lessonModal') closeLesson();
        };

        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeLesson();
        });

        render();
        updateStats();

        document.querySelectorAll('a[href^="#"]').forEach(a => {
            a.addEventListener('click', e => {
                e.preventDefault();
                document.querySelector(a.getAttribute('href'))?.scrollIntoView({behavior:'smooth'});
            });
        });
    </script>
</body>
</html>
